{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/crud.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"ngx-pagination\";\nimport * as i6 from \"../../../pipes/search.pipe\";\n\nfunction HomeComponent_div_7_img_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 29);\n  }\n\n  if (rf & 2) {\n    const employee_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate(\"src\", employee_r1.profilepic, i0.ɵɵsanitizeUrl);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"background-color\": a0\n  };\n};\n\nfunction HomeComponent_div_7_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"span\", 31);\n    i0.ɵɵtext(2, \"FM\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(1, _c0, ctx_r5.circleColor));\n  }\n}\n\nfunction HomeComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"div\", 10)(3, \"div\", 11)(4, \"div\", 12)(5, \"div\", 13)(6, \"div\", 14);\n    i0.ɵɵtemplate(7, HomeComponent_div_7_img_7_Template, 1, 1, \"img\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, HomeComponent_div_7_ng_template_8_Template, 3, 3, \"ng-template\", null, 16, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\", 17);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 18)(13, \"div\", 19)(14, \"div\", 20)(15, \"span\", 21);\n    i0.ɵɵtext(16, \"Job Title:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"span\", 17);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"div\", 19)(20, \"div\", 20)(21, \"span\", 21);\n    i0.ɵɵtext(22, \"Email:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"span\", 17);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(25, \"div\", 19)(26, \"div\", 20)(27, \"span\", 21);\n    i0.ɵɵtext(28, \"Phone Number: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"span\", 17);\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(31, \"div\", 19)(32, \"div\", 20)(33, \"span\", 21);\n    i0.ɵɵtext(34, \"Department:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"span\", 17);\n    i0.ɵɵtext(36);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(37, \"div\", 22)(38, \"span\", 23);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_7_Template_span_click_38_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const employee_r1 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.viewCard(employee_r1._id);\n    });\n    i0.ɵɵelement(39, \"i\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"span\", 25);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_7_Template_span_click_40_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const employee_r1 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.edit(employee_r1);\n    });\n    i0.ɵɵelement(41, \"i\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"span\", 27);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_7_Template_span_click_42_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const employee_r1 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.delete(employee_r1._id);\n    });\n    i0.ɵɵelement(43, \"i\", 28);\n    i0.ɵɵelementEnd()()()()()()();\n  }\n\n  if (rf & 2) {\n    const employee_r1 = ctx.$implicit;\n\n    const _r4 = i0.ɵɵreference(9);\n\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", employee_r1.profilepic)(\"ngIfElse\", _r4);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(employee_r1.fullname);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(employee_r1.jobtitle);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(employee_r1.email);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"0\", employee_r1.phonenumber, \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(employee_r1.department);\n  }\n}\n\nconst _c1 = function () {\n  return [\"/add\"];\n};\n\nconst _c2 = function (a1) {\n  return {\n    itemsPerPage: 6,\n    currentPage: a1\n  };\n};\n\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(crudService, router) {\n      this.crudService = crudService;\n      this.router = router;\n      this.currentTutorials = {\n        id: '',\n        fullname: '',\n        jobtitle: '',\n        email: '',\n        phonenumber: '',\n        department: ''\n      }; // Profile picture\n\n      this.photoUrl = '';\n      this.showInitials = true;\n      this.bgColor = '';\n      this.divColor = '';\n      this.initials = '';\n      this.circleColor = ['#367E18', '#790252', '#645CAA', '#AF0171', '#645CAA', '#A460ED', '#42855B', '#FF4A4A', '#A62349', '#FFB200', '#781C68', '#D61C4E', '#FF87B2']; // tutorials?: Tutorial[];\n\n      this.currentTutorial = {};\n      this.currentIndex = -1;\n      this.id = '';\n      this.p = 1;\n      this.collection = [];\n      this.contentEditable = false;\n      this.splitArray = [];\n    }\n\n    ngOnInit() {\n      this.retrieveEmployees();\n\n      const Swal = require('sweetalert2');\n    }\n\n    delete(employee_id) {\n      Swal.fire({\n        title: 'Are you sure?',\n        text: \"You won't be able to revert this!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Yes, delete it!'\n      }).then(result => {\n        if (result.isConfirmed) {\n          this.deleteEmployee(employee_id);\n          Swal.fire('Deleted!', 'The employee has been deleted.', 'success');\n        }\n      });\n    }\n\n    viewCard(employeeDetails) {\n      console.log(employeeDetails);\n      console.log(employeeDetails);\n      this.router.navigateByUrl(`/view/${employeeDetails}`);\n    }\n\n    retrieveEmployees() {\n      this.crudService.getAll().subscribe({\n        next: data => {\n          this.employees = data;\n          console.log(data);\n          console.log(this.employees[0]._id);\n          this.selectedID = this.employees[0]._id;\n          console.log(this.employees);\n          this.collection = this.employees;\n\n          for (let j = 0; j < this.employees.length; j++) {\n            this.divColor = this.color(this.employees[j].fullname);\n          }\n\n          console.log(this.firstname);\n          console.log(this.surname);\n\n          if (this.employees.image) {\n            this.showInitials = false; //  this.photoUrl = this.employees[index].image\n          } else {\n            this.showInitials = true;\n          }\n        },\n        error: e => console.error(e)\n      });\n    }\n\n    color(fname) {\n      console.log(fname);\n      fname = fname[0].toUpperCase();\n\n      if (fname.match(/[A-C]/i)) {\n        this.circleColor[0];\n        this.bgColor = this.circleColor[0];\n      } else if (fname.match(/[D-F]/i)) {\n        this.bgColor = this.circleColor[1];\n      } else if (fname.match(/[G-I]/i)) {\n        this.circleColor[2];\n        this.bgColor = this.circleColor[2];\n      } else if (fname.match(/[J-L]/i)) {\n        this.circleColor[3];\n        this.bgColor = this.circleColor[3];\n      } else if (fname.match(/[M-O]/i)) {\n        this.circleColor[4];\n        this.bgColor = this.circleColor[4];\n      } else if (fname.match(/[P-R]/i)) {\n        this.circleColor[5];\n        this.bgColor = this.circleColor[5];\n      } else if (fname.match(/[S-U]/i)) {\n        this.circleColor[6];\n        this.bgColor = this.circleColor[6];\n      } else if (fname.match(/[V-X]/i)) {\n        this.circleColor[7];\n        this.bgColor = this.circleColor[7];\n      } else if (fname.match(/[YZ]/i)) {\n        this.circleColor[8];\n        this.bgColor = this.circleColor[8];\n      } else {\n        this.circleColor[-1];\n        this.bgColor = this.circleColor[-1];\n      }\n\n      return this.bgColor;\n    }\n\n    deleteEmployee(emplyId) {\n      this.crudService.delete(emplyId).subscribe({\n        next: res => {\n          console.log(res);\n          window.location.reload();\n        },\n        error: e => console.error(e)\n      });\n    }\n\n    editEmployee(employeeDetail) {\n      console.log(employeeDetail); // this.employeeDetail = {...employeeDetail}\n\n      this.router.navigate([`/edit/${employeeDetail}`]);\n    }\n\n    edit(empId) {\n      console.log(empId);\n      localStorage.setItem('employee_id', empId);\n      this.router.navigate([`/edit/${empId}`]);\n    }\n\n    search(value) {\n      this.searchResult = this.employees.filter(val => val.name.toLowerCase().includes(value));\n    }\n\n    toggleEditable(event) {\n      if (event.target.checked) {\n        this.contentEditable = true;\n      }\n    }\n\n    statusUpdate(event, index) {\n      if (event.target.checked) {\n        this.contentEditable = false;\n      } else {\n        this.contentEditable = true;\n      }\n    }\n\n  }\n\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.CrudService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    inputs: {\n      currentTutorials: \"currentTutorials\"\n    },\n    decls: 12,\n    vars: 12,\n    consts: [[1, \"flex\", \"flex-shrink-0\", \"md:w-auto\", \"justify-between\"], [\"role\", \"search\", 1, \"flex\", \"flex-shrink-0\", \"md:w-auto\", \"flex-row\", \"search-hero\"], [\"type\", \"text\", \"name\", \"search\", \"placeholder\", \"Search\", \"autocomplete\", \"off\", 1, \"input\", \"input-bordered\", \"w-full\", \"max-w-xs\", 3, \"ngModel\", \"ngModelChange\"], [1, \"dropdown\", \"dropdown-end\"], [1, \"btn\", \"btn-outline\", \"bg-purple-900\", 3, \"routerLink\"], [\"class\", \"flex gap-4 lg:grid-cols-3 sm:grid-cols-2 mt-4 mx-auto\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"justify-center\", \"align-center\", \"w-full\", \"mt-8\"], [1, \"mx-auto\", \"rounded\", \"align-center\", \"bg-white\", \"pt-4\", \"badge-outline\", \"w-full\", 3, \"pageChange\"], [1, \"flex\", \"gap-4\", \"lg:grid-cols-3\", \"sm:grid-cols-2\", \"mt-4\", \"mx-auto\"], [1, \"card\", \"px-4\", \"lg:px-0\"], [1, \"card-body\", \"p-3\", \"bg-white\", \"rounded\", \"shadow-md\"], [1, \"\"], [1, \"flex\", \"justify-between\", \"align-baseline\", \"w-80\", \"mb-3\", \"h-62\", \"lg:mb-0\"], [1, \"avatar\"], [1, \"mask\", \"mask-squircle\", \"w-12\", \"h-12\"], [\"alt\", \"Avatar Tailwind CSS Component\", 3, \"src\", 4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [1, \"text-xl\", \"text-white-500\"], [1, \"flex-auto\", \"p-2\", \"justify-between\"], [1, \"flex\"], [1, \"flex\", \"items-center\", \"justify-between\", \"w-full\", \"min-w-0\"], [1, \"label-text\", \"text-xl\", \"text-black\"], [1, \"mt-2\", \"text-xl\", \"font-semibold\", \"flex\", \"justify-evenly\"], [1, \"badge\", \"badge-outline\", \"p-4\", \"bg-green-500\", 3, \"click\"], [1, \"fa-solid\", \"fa-eye\"], [1, \"badge\", \"badge-outline\", \"p-4\", \"bg-yellow-500\", 3, \"click\"], [1, \"fa-solid\", \"fa-pen-to-square\"], [1, \"badge\", \"badge-outline\", \"p-4\", \"bg-red-500\", 3, \"click\"], [1, \"fa-sharp\", \"fa-solid\", \"fa-trash\"], [\"alt\", \"Avatar Tailwind CSS Component\", 3, \"src\"], [1, \"text-center\", \"w-12\", \"h-12\", \"flex\", \"justify-center\", \"align-center\", \"badge\", \"badge-outline\", 3, \"ngStyle\"], [1, \"relative\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1)(2, \"input\", 2);\n        i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_2_listener($event) {\n          return ctx.searchText = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"Label\")(5, \"button\", 4);\n        i0.ɵɵtext(6, \"Add New\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(7, HomeComponent_div_7_Template, 44, 7, \"div\", 5);\n        i0.ɵɵpipe(8, \"paginate\");\n        i0.ɵɵpipe(9, \"Search\");\n        i0.ɵɵelementStart(10, \"div\", 6)(11, \"pagination-controls\", 7);\n        i0.ɵɵlistener(\"pageChange\", function HomeComponent_Template_pagination_controls_pageChange_11_listener($event) {\n          return ctx.p = $event;\n        });\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchText);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(9, _c1));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(8, 3, i0.ɵɵpipeBind2(9, 6, ctx.employees, ctx.searchText), i0.ɵɵpureFunction1(10, _c2, ctx.p)));\n      }\n    },\n    directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i2.RouterLink, i4.NgForOf, i4.NgIf, i4.NgStyle, i5.PaginationControlsComponent],\n    pipes: [i5.PaginatePipe, i6.SearchPipe],\n    styles: [\"\"]\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}